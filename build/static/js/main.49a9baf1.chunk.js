(this.webpackJsonpreminderapp=this.webpackJsonpreminderapp||[]).push([[0],{139:function(e,t,n){},454:function(e,t,n){"use strict";n.r(t);var i=n(6),a=n.n(i),r=n(18),s=n.n(r),u=n(33),c=n(34),d=n(36),o=n(35),l=(n(139),n(133)),m=n(21),h=n.n(m),j=n(1),b="/api/reminders/",p=function(e){Object(d.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).painaNappia=function(e){if(e.preventDefault(),window.confirm("Haluatko varmasti poistaa muistutuksen "+i.text+"?")){var t=b+i.key;h.a.delete(t).then(console.log("Muistutus "+i.key+" poistettu.")),h.a.get(b).then((function(e){return i.asetaTila({reminders:e.data})}))}},i.asetaTila=e.asetaTila,i.aika=new Date(e.reminder.date).toLocaleString(),i.key=e.reminder.id,i.text=e.reminder.text,i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){Object(l.a)()}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[this.aika+" "+this.text," ",Object(j.jsx)("form",{onSubmit:this.painaNappia,children:Object(j.jsx)("button",{type:"submit",children:"Poista"})})]})}}]),n}(a.a.Component),v="/api/reminders/",x=function(e){Object(d.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).handleReminderTextChange=function(e){i.setState({newReminderText:e.target.value})},i.handleReminderTimeChange=function(e){i.setState({newReminderTime:e.target.value})},i.addReminder=function(e){e.preventDefault();var t={text:i.state.newReminderText,date:new Date(i.state.newReminderTime)};"Invalid Date"===t.date.toString()?alert("Sy\xf6t\xe4 kelvollinen aika"):i.state.reminders.find((function(e){return e.text===t.text}))?alert("Muistutus '"+t.text+"' on jo olemassa!"):(h.a.post(v,t).then((function(e){h.a.get(v).then((function(e){i.setState({reminders:e.data}),i.asetaTila({newReminderText:"",reminders:e.data})}))})),console.log("Muistutus vastaanotettu, muistutukset:"),console.log(i.state.reminders.concat(t)))},i.state={reminders:[],newReminderTime:new Date,newReminderText:""},i.asetaTila=e.asetaTila,i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.a.get(v).then((function(t){e.setState({reminders:t.data})}))}},{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:this.addReminder,children:[Object(j.jsxs)("div",{children:["Muista:",Object(j.jsx)("input",{value:this.state.newReminderText,onChange:this.handleReminderTextChange}),Object(j.jsx)("br",{}),"Aikaan:",Object(j.jsx)("input",{value:this.state.newReminderTime,onChange:this.handleReminderTimeChange})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",children:"Lis\xe4\xe4 muistutus"})})]})})}}]),n}(a.a.Component),f=function(e){Object(d.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).state={reminders:[]},i}return Object(c.a)(n,[{key:"paivitaTila",value:function(){var e=this;h.a.get("/api/reminders/").then((function(t){e.setState({reminders:t.data})}))}},{key:"componentDidMount",value:function(){this.paivitaTila()}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Lis\xe4\xe4 muistutus:"}),Object(j.jsx)(x,{muistutukset:this.state.reminders,asetaTila:this.paivitaTila.bind(this)}),Object(j.jsx)("br",{}),Object(j.jsx)("h2",{children:"Muista:"}),this.state.reminders.map((function(t){return Object(j.jsx)(p,{reminder:t,asetaTila:e.paivitaTila.bind(e)},t.id)}))]})}}]),n}(a.a.Component);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[454,1,2]]]);
//# sourceMappingURL=main.49a9baf1.chunk.js.map